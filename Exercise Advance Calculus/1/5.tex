Let a function $f: X \rightarrow Y$ and $A \subseteq Y$. We define

$$f^{-1}(A) = \{x \in X ~|~ f(x) \in A\}$$

is called the inverse image of a set $B$. Then

\begin{enumerate}
	\item $B \subseteq f^{-1}(f(B))$ for all $B \subseteq X$
	\item $f(f^{-1}(B))$ for all $B \subseteq Y$
	\item $B = f^{-1}(f(B))$ for all $B \subseteq X$ if and only if $f$ is injective
	\item $f(f^{-1}(B)) = B$ for all $B \subseteq Y$ if and only if $f$ is surjective.
	\item Find an example to show that the inclusions in (a) and (b) may be strict.
\end{enumerate}


\begin{tcolorbox}
	\begin{solution}$ $
		\begin{enumerate}[wide]
			\item let $b \in B \implies f(b) \in f(B)$(by definition)
			
			$\because b \in X$ $(\because B \subseteq X \therefore b \in X)$ and $f(b) \in f(B)$
			
			$\therefore b \in f^{-1}(f(B))$
			
			\item  $f(f^{-1}(B)) = \{f(x)~|~ x \in X,~f(x) \in B\}$
			
			let $p \in f(f^{-1}(B))$, by definition, $p \in B$
			
			\item 
			\begin{enumerate}
				\item[($\Leftarrow$)]
					we proof $B \subseteq f^{-1}(f(B))$ in (a)
					
					Claim $f^{-1}(f(B)) \subseteq B$ when $f$ is injective
					
					let $p \in f^{-1}(f(B))$ $\because f$ is injective $\therefore f(x) \in f(B)$ only $x \in B$
					
					\textbf{if not}, let $y \notin B \ni f(y) \in f(B) ~ \exists x \in B,~f(x) = f(y), \because x \in B,~y \notin B \therefore x \neq y, f$ is not injective
					
					therefore $p \in B$
				\item[$(\Rightarrow)$]
				
				We need to prove if $x,x' \in X \ni f(x) = f(x')$ then $x = x'$.
				
				Suppose $\exists x,x' \in X$ which $x \neq x'$ and $f(x) = f(x')$
				
				let $B = \{x\},b'=\{x'\} \Rightarrow f(B) = \{f(x)\},f(B') = \{f(x')\}$
				
				by question, $B \subseteq f^{-1}(f(B)) = \{x \in X ~|~ f(x) \in f(B)\}$
				
				$\implies \{p \in X ~|~ f(x) = f(x)\} \subseteq \{x\}$ $\color{red}(\star)$
				
				$\implies f^{-1}(f(B)) = \{x\}$, and by similar method  
				
				$f^{-1}(f(B')) = \{x\}$
				
				by $\color{red}(\star)$ $f^{-1}(f(B)) = f^{-1}(f(B')) = \{x\} (\rightarrow\leftarrow)$
				
				$\therefore f$ is injective.
			\end{enumerate} 
		\end{enumerate}
	\end{solution}
\end{tcolorbox}

\newpage

\begin{tcolorbox}
	\begin{enumerate}[wide]
		\item[(d)] 
		
		\begin{enumerate}[wide]
			\item[($\Leftarrow$)]
				we proof $f(f^{-1}(B)) \subseteq B$ in (b), now proof $f(f^{-1}(B)) \subseteq B$ when $f$ is surjective.
				
				let $b \in B ~\because f$ is surjective $\implies \exists x \in X \ni f(x) = b$
				
				$\therefore b \in f(f^{-1}(B))$
			\item[($\Rightarrow$)]
			 we want to proof $\forall y \in Y ~\exists~ x \in X \ni f(x) = y$
			 
			 let $B = Y$, we get $f(f^{-1}(Y)) \supseteq Y$ from question given
			 
			 $\because f^{-1}(Y) \subseteq X \therefore f(f^{-1}(Y)) \subseteq f(X)$
			 
			 $\implies Y \subseteq f(f^{-1}(Y)) \subseteq f(X) \subseteq Y \implies f(X) = Y,$
			 
			 $f$ is surjective.
		\end{enumerate}
		\item[(e)] $X = \{1,2,3\}~Y=\{1,2\}$ and $f(1) = 1,~f(2) = 1,~f(3) = 2$
		
		and let $B = \{1\},~B' = \{1,2\}$
		
		$$\{1\} = B \subset f^{-1}(f(B)) = \{1,2\}$$
		
		and 
		
		$$\{1\} = f(f^{-1}(B')) \subset B' = \{1,2\}$$
	\end{enumerate}
\end{tcolorbox}
